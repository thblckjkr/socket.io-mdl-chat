<!DOCTYPE html>
<html>

<head>
    <title>Little Messenger</title>
    <!-- JQuery Library  -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous">
    </script>

    <!-- Main mdl stylessheet and javascript -->
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-red.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

    <!-- Custom stylessheet -->
    <link rel='stylesheet' href='/css/styles.css'>
</head>

<body>
    <div class="overall" id='loading'>
        <div class="text-centered">
            <h3>Please wait while the chat loads</h3>
        </div>
    </div>

    <div class="overall" id='login' style="display:none">
        <div style="margin: 5px auto;" class="text-centered">
            <h4> Hello! Welcome to the
                <i>Little</i> Messwenger </h4>

            <p style="margin: 0 15px 15px;">This chat is secure and nothing is logged</p>

            <div class="mdl-shadow--6dp">
                <div class="mdl-textfield mdl-js-textfield">
                    <input class="mdl-textfield__input" type="text" id="login-username" name="login-username">
                    <label class="mdl-textfield__label" for="login-username">Pick a username</label>
                </div>
                <br>
                <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored" id="login-btn">
                    <i class="material-icons">navigate_next</i>
                </button>
            </div>
        </div>
    </div>
    <!-- Material head -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <span class="mdl-layout-title" id="room-name">Main chat room</span>
                <div class="mdl-layout-spacer"></div>
            </div>
        </header>
        <div class="mdl-layout__drawer" id="drawer">
            <span class="mdl-layout-title">
                <i>Little</i> Messenger</span>
            <nav class="mdl-navigation">
                <div style="margin-left: 25px">
                    <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="option-showAlerts">
                        <input class="mdl-switch__input" type="checkbox" id="option-showAlerts" checked>
                        <span class="mdl-switch__label">Show alerts</span>
                    </label>
                </div>
                <div style="margin-left: 25px; margin-top: 10px">
                    <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="options-playSound">
                        <input class="mdl-switch__input" type="checkbox" id="options-playSound" checked>
                        <span class="mdl-switch__label">Play sound?</span>
                    </label>
                </div>
                <hr>

            </nav>
        </div>
        <!--/ Material head -->

        <!-- Messages tab -->
        <main class="mdl-layout__content">
            <div class="page-content">
                <!-- Your content goes here -->
                <div class="mdl-tabs mdl-js-tabs" id="tabs-chat">
                    <div class="mdl-tabs__tab-bar" id="bar-chat">
                        <a href="#messages-main" class="mdl-tabs__tab is-active">
                            main
                        </a>
                        <!-- TAB DISABLED FOR DEV -->
                        <!-- <a href="#add-chat" class="mdl-tabs__tab">
                            <i class="material-icons text-inline">add</i> Add room
                        </a> -->
                    </div>
                    <div class="mdl-tabs__panel messages-container chat-window is-active" id="messages-main">
                    </div>
                    <div class="mdl-tabs__panel messages-container chat-window" id="add-chat">
                        <div class="mdl-grid">
                            <div class="mdl-cell mdl-cell--4-col col-centered text-centered">
                                <form action="#">
                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <input class="mdl-textfield__input" type="text" id="add-chat-name"
                                        name="add-chat-name" pattern="-?[0-9a-Z]*(\.[0-9a-Z]+)?">
                                        <label class="mdl-textfield__label" for="add-chat-name">New rooom name</label>
                                    </div>

                                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                        <input class="mdl-textfield__input" type="password" id="add-chat-password" name="add-chat-password">
                                        <label class="mdl-textfield__label" for="add-chat-password">Set a password (blank for none)</label>
                                    </div>
                                    <br>
                                    <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored" id="login-btn">
                                        <i class="material-icons">add</i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!-- The container for the message tab -->
                    <div id="send-container">
                        <div class="mdl-shadow--2dp">

                            <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored" id="send-photo">
                                <i class="material-icons">insert_photo</i>
                            </button>

                            <input type="file" style="display: none" id="send-photo-file" accept="image/*"/>

                            <div class="mdl-tooltip mdl-tooltip--top" for="send-photo">
                                Send a photo
                            </div>

                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" id="send-text-parent">
                                <textarea class="mdl-textfield__input" type="text" rows="2" id="send-text"></textarea>
                                <label class="mdl-textfield__label" for="send-text">Put here your message</label>
                            </div>

                            <div id="notification" class="mdl-js-snackbar mdl-snackbar">
                                <div class="mdl-snackbar__text"></div> <button class="mdl-snackbar__action" type="button"></button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Socket.IO Library -->
    <!-- <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>

    <!-- Timeago for chat  -->
    <script type="text/javascript" src="js/jquery.timeago.js"></script>

    <!-- Chat engine AND usefull functions -->
    <script type="text/javascript" src="/js/chat.js"></script>
    <script type="text/javascript" src="/js/script.js"></script>

    <!-- Audio for the chat -->
    <audio id="audio">
        <source src="/audio/sound.ogg" type="audio/ogg">
    </audio>
</body>